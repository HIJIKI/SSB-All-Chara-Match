//--------------------------------------------------------------------------------------------------
//= init_h.hsp
//--------------------------------------------------------------------------------------------------
//	ウィンドウ / バッファ / コンパイルオプションなどの初期化
//--------------------------------------------------------------------------------------------------

	//----------------------------------------------------------------------------------------------
	//= 画面がクリックされた時のラベルを設定
	//----------------------------------------------------------------------------------------------
		onclick gosub *__OnClick

	//----------------------------------------------------------------------------------------------
	//= 終了処理ラベルを設定
	//----------------------------------------------------------------------------------------------
		onexit gosub *__End

	//----------------------------------------------------------------------------------------------
	//= オンコマンド
	//----------------------------------------------------------------------------------------------
		oncmd gosub *__OnCommand, WM_COMMAND

	//----------------------------------------------------------------------------------------------
	//= ランダムテーブル初期化
	//----------------------------------------------------------------------------------------------
		randomize

	//----------------------------------------------------------------------------------------------
	//= BG画像バッファ初期化
	//----------------------------------------------------------------------------------------------
		buffer SCR_BG
		picload "data/img/bg.gif"

	//----------------------------------------------------------------------------------------------
	//= キャラクターアイコンバッファ初期化
	//----------------------------------------------------------------------------------------------
		buffer SCR_CHARACTER_ICON
		picload "data/img/CharacterIcon.png"

	//----------------------------------------------------------------------------------------------
	//= ネームプレート画像バッファ初期化
	//----------------------------------------------------------------------------------------------
		buffer SCR_NAME_PLATE
		picload "data/img/NamePlate.gif"

	//----------------------------------------------------------------------------------------------
	//= マウス当たり判定用のバッファ初期化
	//----------------------------------------------------------------------------------------------
		buffer SCR_MOUSE_COLLISION, WINDOW_SIZE_W, WINDOW_SIZE_H
		cls 4

	//----------------------------------------------------------------------------------------------
	//= キャラクターセレクトウィンドウ初期化
	//----------------------------------------------------------------------------------------------
		screen SCR_CHARACTER_SELECT, CHARACTER_ICON_SIZE_W*3, CHARACTER_ICON_SIZE_H*4+CHARACTER_SELECT_WINDOW_BUTTON_H, 2+4+8
		title "キャラクター変更"
		InitCharacterSelectWindow

	//----------------------------------------------------------------------------------------------
	//= メインウィンドウ初期化
	//----------------------------------------------------------------------------------------------
		screen SCR_MAIN, WINDOW_SIZE_W, WINDOW_SIZE_H+GetMenubarHeight()
		title ""+PROGRAM_NAME+" "+PROGRAM_VERSION
		gosub *__CreateMenubar